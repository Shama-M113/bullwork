<!--
<h2>Admin Dashboard</h2>
<p>Welcome Admin</p>
<button onclick="logout()">Logout</button>

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    {% for category, message in messages %}
      <p style="color: green;">{{ message }}</p>
    {% endfor %}
  {% endif %}
{% endwith %}

<hr>
<h3>Add Vehicle</h3>
<form action="/admin/add_vehicle" method="POST">
    <input type="text" name="name" placeholder="Vehicle Name" required>
    <input type="text" name="number" placeholder="Vehicle Number" required>
    <button type="submit">Add Vehicle</button>
</form>

<hr>
<h3>Vehicles</h3>
<table border="1">
    <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Number</th>
        <th>Assigned User</th>
        <th>Actions</th>
    </tr>
    {% for v in vehicles %}
    <tr>
        <td>{{ v.id }}</td>
        <td>{{ v.name }}</td>
        <td>{{ v.number }}</td>
        <td>{{ v.assigned_user.name if v.assigned_user else "Unassigned" }}</td>
        <td>-->
            <!-- Assign -->
          <!--  <form action="/assign_vehicle" method="POST" style="display:inline">
                <input type="hidden" name="vehicle_id" value="{{ v.id }}">
                <select name="user_id">
                    <option value="">Select User</option>
                    {% for u in users %}
                    <option value="{{ u.id }}">{{ u.name }}</option>
                    {% endfor %}
                </select>
                <button type="submit">Assign</button>
            </form> -->

            <!-- Edit -->
           <!--- <form action="admin/edit_vehicle/{{ v.id }}" method="POST" style="display:inline">
                <input type="text" name="name" placeholder="New Name" required>
                <input type="text" name="number" placeholder="New Number" required>
                <button type="submit">Edit</button> 
            </form> -->

            <!-- Delete -->
           <!-- <form action="admin/delete_vehicle/{{ v.id }}" method="POST" style="display:inline">
                <button type="submit">Delete</button>
            </form>
        </td>
    </tr>
    {% endfor %}
</table>

<hr>
<h3>Users</h3>
<ul>
    {% for u in users %}
        <li>{{ u.name }} - {{ u.email }}</li>
    {% endfor %}
</ul>

<script>
function logout() {
    localStorage.clear();
    window.location.href = "/";
}
</script> -->

<h2>Admin Dashboard</h2>
<p>Welcome Admin</p>
<button onclick="logout()">Logout</button>

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    {% for category, message in messages %}
     <p style="color: green;">{{ message }}</p>
    {% endfor %}
  {% endif %}
{% endwith %}

<hr>
<h3>Add Vehicle</h3>
<form action="/admin/add_vehicle" method="POST">
    <input type="text" name="name" placeholder="Vehicle Name" required>
    <input type="text" name="number" placeholder="Vehicle Number" required>
    <button type="submit">Add Vehicle</button>
</form>

<hr>
<h3>Vehicles</h3>
<table border="1">
<tr>
<th>ID</th><th>Name</th><th>Number</th><th>Assigned User</th><th>Actions</th>
</tr>
{% for v in vehicles %}
<tr>
<td>{{ v.id }}</td>
<td>{{ v.name }}</td>
<td>{{ v.number }}</td>
<td>{{ v.assigned_user.name if v.assigned_user else "Unassigned" }}</td>
<td>
<form action="/admin/assign_vehicle" method="POST" style="display:inline">
<input type="hidden" name="vehicle_id" value="{{ v.id }}">
<select name="user_id">
<option value="">Select User</option>
{% for u in users %}
<option value="{{ u.id }}">{{ u.name }}</option>
{% endfor %}
</select>
<button type="submit">Assign</button>
</form>

<form action="/admin/edit_vehicle/{{ v.id }}" method="POST" style="display:inline">
<input type="text" name="name" placeholder="New Name" required>
<input type="text" name="number" placeholder="New Number" required>
<button type="submit">Edit</button>
</form>

<form action="/admin/delete_vehicle/{{ v.id }}" method="POST" style="display:inline">
<button type="submit">Delete</button>
</form>
</td>
</tr>
{% endfor %}
</table>

<hr>
<h3>Users</h3>
<ul>
{% for u in users %}
<li>{{ u.name }} - {{ u.email }}</li>
{% endfor %}
</ul>

<script>
function logout() {
    localStorage.clear();
    window.location.href = "/";
}
</script>
